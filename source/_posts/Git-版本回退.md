---
title: Git版本回退
date: 2019-10-14
tags: Git
author: 映雪
---

十年不到香雪海，梅花忆我我忆梅。

<!--more-->

### Git 版本回退类型

1. 工作区的代码想撤销
2. add 到暂存区的代码想撤销
3. 提交到本地仓库的代码想撤销
4. 远程仓库的代码想要撤销

### 工作区代码回退

- 未 add 到暂存区，只是代码写错，想回退到原来的状态

1. 查询修改

```
git status
```

2. 回退工作区代码

```
git checkout  --<file>
```

### Add 到暂存区的代码想回退

1. 将暂存区的代码撤销到工作区

```
git reset HEAD
```

2. 将工作区的代码撤销，和上面一样

### 提交到本地仓库的代码想撤销

1. 查看提交记录

```
git log

```

2. 单行查看提交记录

```
git log --pretty=oneline
```

3. 回退指定版本

```
git reset --hard commit_id
```

### 远程仓库的代码撤销

- 先在本地仓库撤销，然后 push 到远程仓库。
